// ==================================== Dipping ====================================
// Changes: Karlach is a dippable fire surface lol. 
// TODO: Make Wet a thing for weapons, and all that other stuff floating around in my head.

new entry "Target_Dip"
type "SpellData"
data "SpellType" "Target"
using "Target_Dip"
// data "SpellProperties" "GROUND:IF(Surface('SurfaceFire') and WieldingWeapon('Dippable',false,false,context.Source)):ApplyEquipmentStatus(SELF,MainHand,DIPPED_FIRE_SWITCH,100,0);GROUND:IF(Surface('SurfaceFire') and WieldingWeapon('Dippable',true,false,context.Source)):ApplyEquipmentStatus(SELF,OffHand,DIPPED_FIRE_SWITCH,100,0);TARGET:IF((HasStatus('BURNING') or HasStatus('FLAMING_SPHERE_AURA')) and WieldingWeapon('Dippable',false,false,context.Source)):ApplyEquipmentStatus(SELF,MainHand,DIPPED_FIRE_SWITCH,100,0);TARGET:IF((HasStatus('BURNING') or HasStatus('FLAMING_SPHERE_AURA')) and WieldingWeapon('Dippable',true,false,context.Source)): ApplyEquipmentStatus(SELF,OffHand,DIPPED_FIRE_SWITCH,100,0);GROUND:IF(Surface('SurfaceHellfire') and WieldingWeapon('Dippable',false,false,context.Source)):ApplyEquipmentStatus(SELF,MainHand,DIPPED_FIRE_SWITCH,100,0);GROUND:IF(Surface('SurfaceHellfire') and WieldingWeapon('Dippable',true,false,context.Source)):ApplyEquipmentStatus(SELF,OffHand,DIPPED_FIRE_SWITCH,100,0);GROUND:IF(Surface('SurfacePoison') and WieldingWeapon('Dippable',false,false,context.Source) and not WieldingWeapon('Torch',false,false,context.Source)):ApplyEquipmentStatus(SELF,MainHand,ALCH_TOXIN_BASIC_DIPPED,100,10);GROUND:IF(Surface('SurfacePoison') and WieldingWeapon('Dippable',true,false,context.Source) and not WieldingWeapon('Torch',true,false,context.Source)):ApplyEquipmentStatus(SELF,OffHand,ALCH_TOXIN_BASIC_DIPPED,100,10);GROUND:IF(Surface('SurfaceSerpentVenom') and WieldingWeapon('Dippable',false,false,context.Source) and not WieldingWeapon('Torch',false,false,context.Source)):ApplyEquipmentStatus(SELF,MainHand,TOXIN_SERPENTVENOM_DIPPED,100,10);GROUND:IF(Surface('SurfaceSerpentVenom') and WieldingWeapon('Dippable',true,false,context.Source) and not WieldingWeapon('Torch',true,false,context.Source)):ApplyEquipmentStatus(SELF,OffHand,TOXIN_SERPENTVENOM_DIPPED,100,10);GROUND:IF(Surface('SurfaceWyvernPoison') and WieldingWeapon('Dippable',false,false,context.Source) and not WieldingWeapon('Torch',false,false,context.Source)):ApplyEquipmentStatus(SELF,MainHand,TOXIN_WYVERN_DIPPED,100,10);GROUND:IF(Surface('SurfaceWyvernPoison') and WieldingWeapon('Dippable',true,false,context.Source) and not WieldingWeapon('Torch',true,false,context.Source)):ApplyEquipmentStatus(SELF,OffHand,TOXIN_WYVERN_DIPPED,100,10);GROUND:IF(Surface('SurfacePurpleWormPoison') and WieldingWeapon('Dippable',false,false,context.Source) and not WieldingWeapon('Torch',false,false,context.Source)):ApplyEquipmentStatus(SELF,MainHand,TOXIN_PURPLEWORM_DIPPED,100,10);GROUND:IF(Surface('SurfacePurpleWormPoison') and WieldingWeapon('Dippable',true,false,context.Source) and not WieldingWeapon('Torch',true,false,context.Source)):ApplyEquipmentStatus(SELF,OffHand,TOXIN_PURPLEWORM_DIPPED,100,10);GROUND:IF(Surface('SurfaceWater') and WieldingWeapon('Dippable',false,false,context.Source)): ApplyEquipmentStatus(SELF,MainHand,DIPPED_WATER,100,0);GROUND:IF(Surface('SurfaceWater') and WieldingWeapon('Dippable',true,false,context.Source)): ApplyEquipmentStatus(SELF,OffHand,DIPPED_WATER,100,0);GROUND:DealDamage(MainMeleeWeapon,MainMeleeWeaponDamageType);GROUND:ExecuteWeaponFunctors(MainHand);GROUND:DealDamage(OffhandMeleeWeapon,MainMeleeWeaponDamageType);GROUND:ExecuteWeaponFunctors(OffHand)"
data "SpellProperties" "GROUND:IF(Surface('SurfaceFire') and WieldingWeapon('Dippable',false,false,context.Source)):ApplyEquipmentStatus(SELF,MainHand,DIPPED_FIRE_SWITCH,100,0);GROUND:IF(Surface('SurfaceFire') and WieldingWeapon('Dippable',true,false,context.Source)):ApplyEquipmentStatus(SELF,OffHand,DIPPED_FIRE_SWITCH,100,0);TARGET:IF((HasStatus('BURNING') or HasStatus('FLAMING_SPHERE_AURA')) and WieldingWeapon('Dippable',false,false,context.Source)):ApplyEquipmentStatus(SELF,MainHand,DIPPED_FIRE_SWITCH,100,0);TARGET:IF((HasStatus('BURNING') or HasStatus('FLAMING_SPHERE_AURA')) and WieldingWeapon('Dippable',true,false,context.Source)): ApplyEquipmentStatus(SELF,OffHand,DIPPED_FIRE_SWITCH,100,0);GROUND:IF(Surface('SurfaceHellfire') and WieldingWeapon('Dippable',false,false,context.Source)):ApplyEquipmentStatus(SELF,MainHand,DIPPED_FIRE_SWITCH,100,0);GROUND:IF(Surface('SurfaceHellfire') and WieldingWeapon('Dippable',true,false,context.Source)):ApplyEquipmentStatus(SELF,OffHand,DIPPED_FIRE_SWITCH,100,0);GROUND:IF(Surface('SurfacePoison') and WieldingWeapon('Dippable',false,false,context.Source) and not WieldingWeapon('Torch',false,false,context.Source)):ApplyEquipmentStatus(SELF,MainHand,ALCH_TOXIN_BASIC_DIPPED,100,10);GROUND:IF(Surface('SurfacePoison') and WieldingWeapon('Dippable',true,false,context.Source) and not WieldingWeapon('Torch',true,false,context.Source)):ApplyEquipmentStatus(SELF,OffHand,ALCH_TOXIN_BASIC_DIPPED,100,10);GROUND:IF(Surface('SurfaceSerpentVenom') and WieldingWeapon('Dippable',false,false,context.Source) and not WieldingWeapon('Torch',false,false,context.Source)):ApplyEquipmentStatus(SELF,MainHand,TOXIN_SERPENTVENOM_DIPPED,100,10);GROUND:IF(Surface('SurfaceSerpentVenom') and WieldingWeapon('Dippable',true,false,context.Source) and not WieldingWeapon('Torch',true,false,context.Source)):ApplyEquipmentStatus(SELF,OffHand,TOXIN_SERPENTVENOM_DIPPED,100,10);GROUND:IF(Surface('SurfaceWyvernPoison') and WieldingWeapon('Dippable',false,false,context.Source) and not WieldingWeapon('Torch',false,false,context.Source)):ApplyEquipmentStatus(SELF,MainHand,TOXIN_WYVERN_DIPPED,100,10);GROUND:IF(Surface('SurfaceWyvernPoison') and WieldingWeapon('Dippable',true,false,context.Source) and not WieldingWeapon('Torch',true,false,context.Source)):ApplyEquipmentStatus(SELF,OffHand,TOXIN_WYVERN_DIPPED,100,10);GROUND:IF(Surface('SurfacePurpleWormPoison') and WieldingWeapon('Dippable',false,false,context.Source) and not WieldingWeapon('Torch',false,false,context.Source)):ApplyEquipmentStatus(SELF,MainHand,TOXIN_PURPLEWORM_DIPPED,100,10);GROUND:IF(Surface('SurfacePurpleWormPoison') and WieldingWeapon('Dippable',true,false,context.Source) and not WieldingWeapon('Torch',true,false,context.Source)):ApplyEquipmentStatus(SELF,OffHand,TOXIN_PURPLEWORM_DIPPED,100,10);GROUND:IF(Surface('SurfaceWater') and WieldingWeapon('Dippable',false,false,context.Source)): ApplyEquipmentStatus(SELF,MainHand,DIPPED_WATER,100,0);GROUND:IF(Surface('SurfaceWater') and WieldingWeapon('Dippable',true,false,context.Source)): ApplyEquipmentStatus(SELF,OffHand,DIPPED_WATER,100,0);GROUND:DealDamage(MainMeleeWeapon,MainMeleeWeaponDamageType);GROUND:ExecuteWeaponFunctors(MainHand);GROUND:DealDamage(OffhandMeleeWeapon,MainMeleeWeaponDamageType);GROUND:ExecuteWeaponFunctors(OffHand);TARGET:IF(Goon_IsKarlachCooking() and WieldingWeapon('Dippable',false,false,context.Source)):ApplyEquipmentStatus(SELF,MainHand,DIPPED_FIRE_SWITCH,100,0);TARGET:IF(Goon_IsKarlachCooking() and WieldingWeapon('Dippable',true,false,context.Source)):ApplyEquipmentStatus(SELF,OffHand,DIPPED_FIRE_SWITCH,100,0)"
// data "TargetConditions" "IsDippableSurface() or IsOnFire()"
data "TargetConditions" "IsDippableSurface() or IsOnFire() or Goon_IsKarlachCooking()"

// ==================================== Wet ====================================

new entry "WET"
type "StatusData"
data "StatusType" "BOOST"
using "WET"
// Prevented from &lt;LSTag Type="Status" Tooltip="BURNING"&gt;Burning&lt;/LSTag&gt;. &lt;LSTag Tooltip="Resistant"&gt;Resistant&lt;/LSTag&gt; to Fire damage but &lt;LSTag Tooltip="Vulnerable"&gt;Vulnerable&lt;/LSTag&gt; to Lightning and Cold damage.
// data "Description" "had8f6c7eg128bg42f0g9d4ag1a5c18f4b9c9;6"
// Prevented from &lt;LSTag Type="Status" Tooltip="BURNING"&gt;Burning&lt;/LSTag&gt; and &lt;LSTag Tooltip="Resistant"&gt;Resistant&lt;/LSTag&gt; to Fire damage. Lightning and Cold &lt;LSTag Tooltip="AttackRoll"&gt;Attacks&lt;/LSTag&gt; have &lt;LSTag Tooltip="Advantage"&gt;Advantage&lt;/LSTag&gt; against you.
data "Description" "h00f17427g30c0g46acga349gcd6b4747f406;1"
// data "Boosts" "StatusImmunity(BURNING);StatusImmunity(WILD_MAGIC_BURNING);Resistance(Lightning, Vulnerable);Resistance(Cold, Vulnerable);Resistance(Fire, Resistant)"
data "Boosts" "StatusImmunity(BURNING);StatusImmunity(WILD_MAGIC_BURNING);Resistance(Fire, Resistant);IF(SpellDamageTypeIs(DamageType.Lightning) or SpellDamageTypeIs(DamageType.Cold)):Advantage(AttackTarget);IF(SpellDamageTypeIs(DamageType.Lightning) or SpellDamageTypeIs(DamageType.Cold)):Disadvantage(AllSavingThrows)"

// ==================================== Petrified ====================================

new entry "PETRIFIED"
type "StatusData"
data "StatusType" "INCAPACITATED"
using "PETRIFIED"
// data "Boosts" "Resistance(Piercing,Resistant);Resistance(Bludgeoning,Vulnerable);Resistance(Slashing,Resistant);Resistance(Acid,Vulnerable);Resistance(Cold,Resistant);Resistance(Fire,Resistant);Resistance(Force,Resistant);Resistance(Lightning,Immune);Resistance(Necrotic,Immune);Resistance(Poison,Immune);Resistance(Psychic,Immune);Resistance(Radiant,Immune);Resistance(Thunder,Vulnerable);Attribute(Grounded);StatusImmunity(SG_Poisoned);Advantage(AttackTarget);AbilityFailedSavingThrow(Strength);AbilityFailedSavingThrow(Dexterity);DetectDisturbancesBlock(true);Tag(BLOCK_PICKPOCKET);Tag(DOWNED_DISABLED);StatusImmunity(DISARM);DialogueBlock()"
data "Boosts" "Resistance(Piercing,Resistant);Resistance(Bludgeoning,Resistant);Resistance(Slashing,Resistant);Resistance(Acid,Resistant);Resistance(Cold,Resistant);Resistance(Fire,Resistant);Resistance(Force,Resistant);Resistance(Lightning,Resistant);Resistance(Necrotic,Resistant);Resistance(Poison,Resistant);Resistance(Psychic,Resistant);Resistance(Radiant,Resistant);Resistance(Thunder,Resistant);Attribute(Grounded);StatusImmunity(SG_Poisoned);Advantage(AttackTarget);AbilityFailedSavingThrow(Strength);AbilityFailedSavingThrow(Dexterity);DetectDisturbancesBlock(true);Tag(BLOCK_PICKPOCKET);Tag(DOWNED_DISABLED);StatusImmunity(DISARM);DialogueBlock()"